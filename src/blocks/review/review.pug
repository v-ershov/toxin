//- Options:
//- üûÇ image: string    - –∏–º—è —Ñ–∞–π–ª–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –∞–≤—Ç–æ—Ä–∞ –æ—Ç–∑—ã–≤–∞
//- üûÇ author: string   - –∏–º—è –∞–≤—Ç–æ—Ä–∞ –æ—Ç–∑—ã–≤–∞
//- üûÇ time: string     - –≤—Ä–µ–º—è –æ—Ç–∑—ã–≤–∞ (–≤ —Å–≤–æ–±–æ–¥–Ω–æ–π —Ñ–æ—Ä–º–µ)
//- üûÇ datetime: string - –≤—Ä–µ–º—è –æ—Ç–∑—ã–≤–∞ (–≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO 8601)
//- üûÇ text: string[]   - —Ç–µ–∫—Å—Ç –æ—Ç–∑—ã–≤–∞ (–∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –º–∞—Å—Å–∏–≤–∞ —è–≤–ª—è–µ—Ç—Å—è –ø–∞—Ä–∞–≥—Ä–∞—Ñ–æ–º)
//- üûÇ likes: number    - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–∞–π–∫–æ–≤ —É –∫–Ω–æ–ø–∫–∏ –æ—Ç–∑—ã–≤–∞
//- üûÇ isLike: boolean  - –µ—Å–ª–∏ true, —Ç–æ –∫–Ω–æ–ø–∫–∞ –æ—Ç–∑—ã–≤–∞ –∞–∫—Ç–∏–≤–Ω–∞

include /blocks/button-like/button-like.pug

mixin review(options)
  -
    const defaults = {
      image: '',
      author: 'undefined',
      time: 'undefined',
      datetime: '0000-00-00T00:00:00',
      text: ['undefined'],
      likes: 0,
      isLike: false,
    };

  -
    const {
      image,
      author,
      time,
      datetime,
      text,
      likes,
      isLike,
    } = Object.assign(defaults, options);

  .review
    ._row
      ._cell.-small
        if image
          img._img(src=require(`~/assets/content/reviewers/${image}`).default, alt=author)
        else
          img._img(src=require('~/blocks/review/img/review-avatar.svg').default, alt='–ò–∫–æ–Ω–∫–∞ ¬´–ê–≤–∞—Ç–∞—Ä¬ª')
      ._cell
        ._author
          | #{author}
        time._time(datetime=datetime)
          | #{time}
    ._row
      ._cell.-small
        +button-like({
          number: likes,
          mods: isLike ? ['active'] : [],
        })
      ._cell
        blockquote._blockquote
          each p in text
            p._p
              | #{p}
