//- Options:
//- üûÇ type: string             - —Ç–∏–ø –∫–∞–ª–µ–Ω–¥–∞—Ä—è (inline | field | fields)
//- üûÇ dates: string            - –Ω–∞—á–∞–ª—å–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω –¥–∞—Ç –∫–∞–ª–µ–Ω–¥–∞—Ä—è (–≤ —Ñ–æ—Ä–º–∞—Ç–µ 'YYYY-MM-DD/YYYY-MM-DD')
//- üûÇ labelFirst: string       - –ª–µ–π–±–ª 1-–≥–æ –ø–æ–ª—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è
//- üûÇ labelSecond: string      - –ª–µ–π–±–ª 2-–≥–æ –ø–æ–ª—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è
//- üûÇ attrsFieldFirst: object  - –∞—Ç—Ä–∏–±—É—Ç—ã 1-–≥–æ –ø–æ–ª—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è
//- üûÇ attrsFieldSecond: object - –∞—Ç—Ä–∏–±—É—Ç—ã 2-–≥–æ –ø–æ–ª—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è

include /blocks/field/field.pug

mixin calendar(options)
  -
    const defaults = {
      type: 'inline',
      dates: '',
      labelFirst: '',
      labelSecond: '',
      attrsFieldFirst: {},
      attrsFieldSecond: {},
    };

  -
    const {
      type,
      dates,
      labelFirst,
      labelSecond,
      attrsFieldFirst,
      attrsFieldSecond,
    } = Object.assign(defaults, options);

  - const isFields = type !== 'inline';

  .calendar(data-dates=dates || false)
    input._input(type='hidden')
    if isFields
      ._fields
        if type === 'fields'
          ._field
            +field({
              labelPrimary: labelFirst,
              modifiers: ['dropdown'],
              attrs: Object.assign(attrsFieldFirst, {
                placeholder: '–î–î.–ú–ú.–ì–ì–ì–ì',
                readonly: true,
              }),
            })
          ._field
            +field({
              labelPrimary: labelSecond,
              modifiers: ['dropdown'],
              attrs: Object.assign(attrsFieldSecond, {
                placeholder: '–î–î.–ú–ú.–ì–ì–ì–ì',
                tabindex: '-1',
                readonly: true,
              }),
            })
        else if type === 'field'
          ._field
            +field({
              labelPrimary: labelFirst,
              modifiers: ['dropdown'],
              attrs: Object.assign(attrsFieldFirst, {
                placeholder: '–î–î.–ú–ú.–ì–ì–ì–ì',
                readonly: true,
              }),
            })
    else
      //- –≥–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –≤ —Ç–æ–º —Å–ª—É—á–∞–µ,
      //- –µ—Å–ª–∏ air-datepicker –ø—Ä–∏–≤—è–∑–∞–Ω –∫ —Ç–µ–∫—Å—Ç–æ–≤–æ–º—É –ø–æ–ª—é
      input._fake
    ._container(class=getModifiers('calendar__container', isFields ? ['hidden'] : []))
      ._datepicker
      ._buttons
        ._button
          +button({
            text: '–û—á–∏—Å—Ç–∏—Ç—å',
            modifiers: ['bodyless', 'text-gray'],
            attrs: {
              name: 'reset',
            },
          })
        ._button
          +button({
            text: '–ü—Ä–∏–º–µ–Ω–∏—Ç—å',
            modifiers: ['bodyless'],
            attrs: {
              name: 'apply',
            },
          })
