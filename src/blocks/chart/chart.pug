//- Parameters:
//- ðŸž‚ duration: number   - Ð¿Ñ€Ð¾Ð´Ð¾Ð»Ð¶Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ Ð°Ð½Ð¸Ð¼Ð°Ñ†Ð¸Ð¸ Ð´Ð¸Ð°Ð³Ñ€Ð°Ð¼Ð¼Ñ‹
//- ðŸž‚ gap: number        - Ñ€Ð°Ð·Ð¼ÐµÑ€ Ð¿Ñ€Ð¾Ð±ÐµÐ»Ð° Ð¼ÐµÐ¶Ð´Ñƒ ÑÐµÐºÑ†Ð¸ÑÐ¼Ð¸ Ð´Ð¸Ð°Ð³Ñ€Ð°Ð¼Ð¼Ñ‹
//- ðŸž‚ sections: [{       - ÑÐµÐºÑ†Ð¸Ð¸ Ð´Ð¸Ð°Ð³Ñ€Ð°Ð¼Ð¼Ñ‹
//-   ðŸž‚ gradient: {      - Ð³Ñ€Ð°Ð´Ð¸ÐµÐ½Ñ‚ ÑÐµÐºÑ†Ð¸Ð¸
//-     ðŸž‚ id: string     - ID Ð³Ñ€Ð°Ð´Ð¸ÐµÐ½Ñ‚Ð°
//-     ðŸž‚ color1: string - Ð½Ð°Ñ‡Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ñ†Ð²ÐµÑ‚ Ð³Ñ€Ð°Ð´Ð¸ÐµÐ½Ñ‚Ð°
//-     ðŸž‚ color2: string - ÐºÐ¾Ð½ÐµÑ‡Ð½Ñ‹Ð¹ Ñ†Ð²ÐµÑ‚ Ð³Ñ€Ð°Ð´Ð¸ÐµÐ½Ñ‚Ð°
//-     }
//-   ðŸž‚ name: string     - Ð¸Ð¼Ñ ÑÐµÐºÑ†Ð¸Ð¸
//-   ðŸž‚ value: number    - Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ ÑÐµÐºÑ†Ð¸Ð¸
//-   }]
//- ðŸž‚ title: string      - Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº Ð´Ð¸Ð°Ð³Ñ€Ð°Ð¼Ð¼Ñ‹ Ð¿Ð¾ÑÐ»Ðµ ÑÑƒÐ¼Ð¼Ñ‹ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ð¹ ÑÐµÐºÑ†Ð¸Ð¹

mixin chart(options)
  -
    const defaults = {
      duration: 500,
      gap: 0.6,
      sections: [
        {
          gradient: {
            id: 'bad',
            color1: '#919191',
            color2: '#3d4975',
          },
          name: 'Ð Ð°Ð·Ð¾Ñ‡Ð°Ñ€Ð¾Ð²Ð°Ð½',
          value: 0,
        },
        {
          gradient: {
            id: 'average',
            color1: '#bc9cff',
            color2: '#8ba4f9',
          },
          name: 'Ð£Ð´Ð¾Ð²Ð»ÐµÑ‚Ð²Ð¾Ñ€Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾',
          value: 65,
        },
        {
          gradient: {
            id: 'good',
            color1: '#6fcf97',
            color2: '#66d2ea',
          },
          name: 'Ð¥Ð¾Ñ€Ð¾ÑˆÐ¾',
          value: 65,
        },
        {
          gradient: {
            id: 'excellent',
            color1: '#ffe39c',
            color2: '#ffba9c',
          },
          name: 'Ð’ÐµÐ»Ð¸ÐºÐ¾Ð»ÐµÐ¿Ð½Ð¾',
          value: 130,
        },
      ],
      title: 'Ð³Ð¾Ð»Ð¾ÑÐ¾Ð²',
    };

  - const { duration, gap, sections, title } = Object.assign(defaults, options);

  .chart
    ._container
      ._diagram
        svg._svg(viewbox='0 0 33 33')
          defs._defs
            each item in sections
              lineargradient._gradient(id=item.gradient.id, x1='1', y1='1', x2='0', y2='0')
                stop._stop(offset='0', stop-color=item.gradient.color1)
                stop._stop(offset='1', stop-color=item.gradient.color2)

          - const sum = sections.reduce((sum , current) => sum + current.value, 0);
          - let offset = -gap / 2;
          each item in sections
            - const percent = (item.value / sum) * 100;
            - const array = `${Math.max(0, percent - gap)} 100`;
            circle._circle(r='15.9', cx='50%', cy='50%', style=`--duration: ${duration}ms; --stroke: url(#${item.gradient.id}); --array:${array}; --offset:${offset};`, data-value=item.value)
            - offset -= percent;
        ._title
          span._sum
            | 0
          | #{title}
        ._tooltip(style='--top: 0; --left: 0; --borderColor: #000000;')
          ._name
            | #{sections[0].name}
          ._details(style='--gradient: linear-gradient(#ffffff, #000000);')
            | #{title}:
            span._value
              | #{sections[0].value}
    ul._legend
      each item in sections
        li._item
          button._button.-active(type='button', style=`--gradient: linear-gradient(${item.gradient.color1}, ${item.gradient.color2});`)
            | #{item.name}
